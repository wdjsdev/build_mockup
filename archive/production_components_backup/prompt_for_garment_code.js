function promptForGarmentCode(e){function t(e){var t=e.subGroup.errorMsg;e.remove(t.parent),a.layout.layout(!0)}function o(e,t){t.subGroup=t.add("group"),t.subGroup.errorMsg=t.subGroup.add("statictext",void 0,e),a.layout.layout(!0)}function d(e){for(var t=0;t<e.children.length;t++){var o=e.children[t];if(o.value){return o.text}}}function r(e){var t=e;if(e.indexOf("-")>-1){t=e.substring(e.indexOf("-")+1,e.length)}else{if(e.indexOf("_")>-1){t=e.substring(e.indexOf("_")+1,e.length)}}return t}var n,i=!1,a=new Window("dialog","Enter the Garment Code"),u=a.add("group");u.orientation="column";var l=(u.add("statictext",void 0,"Enter garment code for "+e),u.add("statictext",void 0,"Select FD or BM."),u.add("statictext",void 0,"Then type the garment code number."),u.add("statictext",void 0,"**Do not include the style number.**"),a.add("group")),c=l.add("radiobutton",void 0,"FD"),s=l.add("radiobutton",void 0,"BM");l.add("radiobutton",void 0,"PS");if(e.indexOf("BA-")>-1||e.indexOf("BM-")>-1){s.value=!0}else{c.value=!0}var v=a.add("group"),f=v.add("edittext",void 0,"eg. 163 or 4404W");f.characters=25;var g=a.add("group"),p=a.add("group"),b=p.add("button",void 0,"Submit");b.onClick=function(){if(i=!1,f.text.indexOf("eg.")>-1||""==f.text){var e="You must enter a valid garment Code.";if(g.subGroup){t(g)}o(e,g)}else{var u=f.text,c=r(u);n=d(l)+"-"+c,a.close()}};var x=p.add("button",void 0,"Cancel");return x.onClick=function(){if(!i){log.l("User clicked cancel. Asking them to confirm cancel.");var d="If you cancel, the "+e+" garment will be ignored.";if(g.subGroup){t(g)}o(d,g),i=!0}else{log.l("User confirmed cancellation. Skipping "+e),n=void 0,a.close()}},a.show(),n}function promptForGarmentCode(e){function t(e){var t=e.subGroup.errorMsg;e.remove(t.parent),a.layout.layout(!0)}function o(e,t){t.subGroup=t.add("group"),t.subGroup.errorMsg=t.subGroup.add("statictext",void 0,e),a.layout.layout(!0)}function d(e){for(var t=0;t<e.children.length;t++){var o=e.children[t];if(o.value){return o.text}}}function r(e){var t=e;if(e.indexOf("-")>-1){t=e.substring(e.indexOf("-")+1,e.length)}else{if(e.indexOf("_")>-1){t=e.substring(e.indexOf("_")+1,e.length)}}return t}var n,i=!1,a=new Window("dialog","Enter the Garment Code"),u=a.add("group");u.orientation="column";var l=(u.add("statictext",void 0,"Enter garment code for "+e),u.add("statictext",void 0,"Select FD or BM."),u.add("statictext",void 0,"Then type the garment code number."),u.add("statictext",void 0,"**Do not include the style number.**"),a.add("group")),c=l.add("radiobutton",void 0,"FD"),s=l.add("radiobutton",void 0,"BM");l.add("radiobutton",void 0,"PS");if(e.indexOf("BA-")>-1||e.indexOf("BM-")>-1){s.value=!0}else{c.value=!0}var v=a.add("group"),f=v.add("edittext",void 0,"eg. 163 or 4404W");f.characters=25;var g=a.add("group"),p=a.add("group"),b=p.add("button",void 0,"Submit");b.onClick=function(){if(i=!1,f.text.indexOf("eg.")>-1||""==f.text){var e="You must enter a valid garment Code.";if(g.subGroup){t(g)}o(e,g)}else{var u=f.text,c=r(u);n=d(l)+"-"+c,a.close()}};var x=p.add("button",void 0,"Cancel");return x.onClick=function(){if(!i){log.l("User clicked cancel. Asking them to confirm cancel.");var d="If you cancel, the "+e+" garment will be ignored.";if(g.subGroup){t(g)}o(d,g),i=!0}else{log.l("User confirmed cancellation. Skipping "+e),n=void 0,a.close()}},a.show(),n}