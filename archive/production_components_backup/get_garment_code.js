function getGarmentCode(e,o,t){var r,n,a,s=!0;if(log.h("Beginning execution of getGarmentCode function.::prop = "+t+"::thisGarment = "+o),0==e.garment.indexOf("FD")){n=e.garment.substring(0,e.garment.lastIndexOf("-"))}else{n=e.garment}if(a=e.styleNo,0==n.indexOf("BA")&&-1==n.indexOf("PS")){log.l("Garment is authentic, and not PS pants. Using the style number: BM-"+a+" as the garment code."),r="BM-"+a}else{if(midTable[n]){if(r=midTable[n],"no mockup"==r){msgList.push("No mockup needed for "+n+". This garment has been skipped."),log.l("No mockup needed for "+n+". This garment has been skipped."),s=!1}else{log.l("Successfully found garment code for "+n+" in midTable. garmentCode has been set to "+r)}}else{if(log.e("midTable did not contain the name "+n+".::designNumber = "+lib.designNumber),log.l("Prompting user for correct garment code."),r=promptForGarmentCode(n),!r){errorList.push("The garment code for "+e.garment+" could not be determined. This garment has been skipped."),s=!1}else{msgList.push("Sorry you had to see the dialog box for "+n+". Please enjoy a cup of coffee from the break room, free of charge, as a token of my apology."),log.l("Prompted user. Garment code has been set to "+r)}}}if(s&&r.indexOf("/")>-1){var i=getSubStyle(n,a);if(!i){if(log.e("Failed to get the correct garment code from the getSubStyle function for "+t+"."+o+"::Passed in the following arguments: ::garmentCode: "+r+"::styleNo: "+a),log.l("Prompting user for correct garment Code"),i=promptForGarmentCode(n),!i){errorList.push("Failed to get the appropriate garment code for "+n+"."),s=!1}else{msgList.push("Sorry you had to see the dialog box for "+n+". Please enjoy a cup of coffee from the break room, free of charge, as a token of my apology.")}}r=i}if(s){e.garmentCode=r}return log.l("End of getGarmentCode function. Returning "+s),s}