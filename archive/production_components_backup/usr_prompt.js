function usrPrompt(o,e,i){function t(o){var e=o.subGroup.errorMsg;o.remove(e.parent),a.layout.layout(!0)}function r(o,e){e.subGroup=e.add("group"),e.subGroup.errorMsg=e.subGroup.add("statictext",void 0,o),a.layout.layout(!0)}var n,u=!1,a=new Window("dialog",e),d=a.add("group"),l=(d.add("statictext",void 0,e),a.add("group")),s=l.add("listbox",void 0,o);s.maximumSize.height=600,s.minimumSize.width=100;var c=a.add("group"),g=a.add("group"),m=g.add("button",void 0,"Submit");m.onClick=function(){if(!s.selection){log.l("User submitted the dialog with nothing selected. Displaying error message.");var o="You must make a selection.";if(c.subGroup){t(c)}r(o,c),u=!1}else{n=s.selection.text,log.l("User submitted form. Returning "+n),a.close()}};var p=g.add("button",void 0,"Cancel");return p.onClick=function(){if(!u){log.l("User clicked cancel. Asking them to confirm cancel.");var o="If you cancel, the "+i+" garment will be ignored.";if(c.subGroup){t(c)}r(o,c),u=!0}else{log.l("User confirmed cancellation. Skipping "+i),n=void 0,a.close()}},a.show(),n}